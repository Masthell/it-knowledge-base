# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã

- **Kali Linux VM**
  - –ó–∞–ø—É—â–µ–Ω **node_exporter** –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã
  - –ú–µ—Ç—Ä–∏–∫–∏: CPU, RAM, –¥–∏—Å–∫, —Å–µ—Ç—å
  - IP-–∞–¥—Ä–µ—Å: `10.10.0.241`
  - –ü–æ—Ä—Ç node_exporter: `9100`

- **Windows —Ö–æ—Å—Ç**
  - –ó–∞–ø—É—â–µ–Ω **Prometheus** (—Å–±–æ—Ä –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫)
  - –ó–∞–ø—É—â–µ–Ω–∞ **Grafana** (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫)
  - –†–∞–±–æ—Ç–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
Kali Linux VM (10.10.0.241:9100)
‚Üì

Prometheus (Windows)
‚Üì

Grafana (Windows)


## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prometheus

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª

–§–∞–π–ª: `prometheus.yml`

```yaml
global:
  scrape_interval: 5s

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
  
  - job_name: 'node'
    static_configs:
      - targets: ['10.10.0.241:9100']  # IP Kali VM —Å node_exporter

```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
–û—Ç–∫—Ä—ã—Ç—å Prometheus –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:9090/targets

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ç–∞—Ç—É—Å UP –¥–ª—è:
localhost:9090 (Prometheus —Å–∞–º —Å–µ–±—è —Å–∫–∞–Ω–∏—Ä—É–µ—Ç)
10.10.0.241:9100 (node_exporter –Ω–∞ Kali VM)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana
1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
–í–æ–π—Ç–∏ –≤ Grafana: http://localhost:3000
–ü–µ—Ä–µ–π—Ç–∏: Configuration ‚Üí Data Sources
–ù–∞–∂–∞—Ç—å Add data source
–í—ã–±—Ä–∞—Ç—å Prometheus

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å:
URL: http://localhost:9090
–û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–ù–∞–∂–∞—Ç—å Save & Test

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: Data source is working

2. –ò–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞
–°–ª–µ–≤–∞: "+ ‚Üí Import"
–í–≤–µ—Å—Ç–∏ ID –¥–∞—à–±–æ—Ä–¥–∞: 1860
–ù–∞–∂–∞—Ç—å Load
–í—ã–±—Ä–∞—Ç—å Data Source: Prometheus (http://localhost:9090)
–ù–∞–∂–∞—Ç—å Import

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–Ω–µ–ª–µ–π
–î–∞—à–±–æ—Ä–¥ –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å:
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM
–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
–°–µ—Ç–µ–≤—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
–ï—Å–ª–∏ –ø–∞–Ω–µ–ª–∏ –ø—É—Å—Ç—ã–µ:
–û—Ç–∫—Ä—ã—Ç—å –ª—é–±—É—é –ø–∞–Ω–µ–ª—å –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–µ instance –≤ Query
–ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ 10.10.0.241:9100

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
–ü—Ä–æ–≤–µ—Ä–∫–∞ Prometheus

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–µ—Ç—Ä–∏–∫ —Å Kali VM
curl http://10.10.0.241:9100/metrics

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ Prometheus UI
http://localhost:9090/targets
–ü—Ä–æ–≤–µ—Ä–∫–∞ Grafana
–í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
–ù–∞ –ø–∞–Ω–µ–ª—è—Ö –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ "No data"

–ü—Ä–æ–≤–µ—Ä–∫–∞ Kali Linux VM

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å node_exporter
systemctl status node_exporter

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
journalctl -u node_exporter -f

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
–ü—Ä–æ–±–ª–µ–º–∞: Prometheus –Ω–µ –≤–∏–¥–∏—Ç node_exporter
–†–µ—à–µ–Ω–∏–µ:

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞:

### –° Windows —Ö–æ—Å—Ç–∞
telnet 10.10.0.241 9100
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –Ω–∞ Kali VM:

sudo ufw status
sudo ufw allow 9100
–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Grafana
–†–µ—à–µ–Ω–∏–µ:
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Data Source –≤ Grafana

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Prometheus –∑–∞–ø—É—â–µ–Ω
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –ø–∞–Ω–µ–ª—è—Ö –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å instance label

–ü—Ä–æ–±–ª–µ–º–∞: –í—ã—Å–æ–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

–†–µ—à–µ–Ω–∏–µ:
–£–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–±–æ—Ä–∞ –≤ Prometheus:

yaml
global:
  scrape_interval: 30s  # –£–≤–µ–ª–∏—á–∏—Ç—å —Å 5s –¥–æ 30s


### –ú–µ—Ç—Ä–∏–∫–∏
–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ node_exporter
node_cpu_seconds_total - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
node_memory_MemTotal_bytes - –æ–±—â–∞—è –ø–∞–º—è—Ç—å
node_memory_MemAvailable_bytes - –¥–æ—Å—Ç—É–ø–Ω–∞—è –ø–∞–º—è—Ç—å
node_filesystem_size_bytes - —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
node_network_receive_bytes_total - –≤—Ö–æ–¥—è—â–∏–π —Å–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ Kali VM:
sudo systemctl start node_exporter

–ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ Windows:
–ó–∞–ø—É—Å—Ç–∏—Ç—å Prometheus
–ó–∞–ø—É—Å—Ç–∏—Ç—å Grafan
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Grafana
–î–æ–±–∞–≤–∏—Ç—å Data Source
–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ ID: 1860
